<!-- USER Question-->
@if(prompt) {

<div class="encart-user-question d-flex align-items-stretch g-0">

    <div [style.background]="isChecked?'rgb(224 226 234)':'#e0f7f7'" [id]="'prompt'+prompt.id"
        class="col-11 prompt animate__animated animate__fadeIn">
        <div class="prompt-result-view__title d-flex align-items-center">
            <!-- <i class="bi bi-person-circle"></i> -->
            <img class="avatar" style="width: 31px;height: 31px;border-radius: 50%;margin-left: -5px;"
                [src]="'https://api.dicebear.com/8.x/adventurer/svg?seed='+user.firstname">
            <p><strong>{{user.firstname}}</strong><span class="silent"></span></p>
        </div>

        <div style="transform:translateY(-7px)" class="d-flex align-items-center">
            <span>{{ prompt.title}}</span>
        </div>

        <p-progressBar [style.opacity]="isLoadingResponse && (loader$ | async)?1:0" mode="indeterminate"
            [style]="{ height: '3px',color:'#2c2b40' }"></p-progressBar>
    </div>

    <div [style.background]="isChecked?'rgb(224 226 234)':'#e0f7f7'"
        style="background: #e0e2ea; display: flex; align-items: center; justify-content: center; margin-top: 2px;margin-bottom: 4px;"
        class="col-1">
        @if(isChecked) {
        <button #refreshBtn (click)="refreshPromptAction(prompt)" pTooltip="demander à nouveau à l'IA"
            tooltipPosition="left" [disabled]="!isChecked || loadingGeneral" class="btn btn-sm btn-light refresh-ia">
            <i class="bi bi-arrow-repeat"></i>
        </button>
        }
        @if(!isChecked) {
        <button (click)="refreshPromptAction(prompt)" pTooltip="Envoyer" tooltipPosition="top"
            [disabled]="loadingGeneral" class="btn btn-sm btn-light ask-ia">
            <i class="bi bi-send"></i>
        </button>
        }
    </div>

</div>

}